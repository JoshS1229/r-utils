% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/merge_with_flag.R
\name{merge_with_flag}
\alias{merge_with_flag}
\title{Merge two data frames and add a Stata‑style merge flag}
\usage{
merge_with_flag(
  x,
  y,
  by = NULL,
  type = c("full", "left", "right", "inner"),
  suffix = c(".x", ".y"),
  relationship = NULL,
  flag_name = "_merge",
  flag = c("numeric", "label")
)
}
\arguments{
\item{x, y}{Data frames to join.}

\item{by}{Character vector of join keys passed to dplyr.  If
\code{NULL} the common column names between \code{x} and \code{y} are used.}

\item{type}{Join type: one of \code{"full"}, \code{"left"}, \code{"right"}, or \code{"inner"}.}

\item{suffix}{A length‑two character vector of suffixes to be
appended to overlapping non‑key columns from \code{x} and \code{y}.  Passed
to \code{dplyr} join functions.}

\item{relationship}{Optional one‑to‑one check for the join.  See
\code{dplyr::join} for details.  Requires dplyr ≥ 1.1.}

\item{flag_name}{Name of the flag column to be added to the result.
Defaults to \verb{_merge}.}

\item{flag}{Should the flag be returned as \code{"numeric"} (1/2/3) or as
a \code{"label"} (character vector of \code{"x_only"}, \code{"y_only"}, and
\code{"both"}).}
}
\value{
A data frame resulting from the chosen join with an
additional column named by \code{flag_name} indicating the origin of each row.
If \code{flag = "numeric"} the column is an integer; if \code{flag = "label"}
the column is a factor.
}
\description{
Creates a flag indicating whether rows came from \code{x} only (1),
\code{y} only (2), or both (3).  The flag is in the style of Stata's
\verb{_merge} variable, with support for both numeric and labelled
versions.  A \code{full}, \code{left}, \code{right}, or \code{inner} join can be
selected via the \code{type} argument.
}
